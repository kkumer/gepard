
gepard = calculating Compton form factors from moments of
         GEneral PARton Distributions 

- Version 0.9b1 2006-07-18 



========================================================================
1. Files, and what they are:
========================================================================

Makefile - use this if needed to compile Fortran and create documentation.
           See section 2 of this README.

1.1 Documentation
-----------------

README - this file
doc/tex/gepard.pdf  -  simple manual for gepard
doc/tex/gepard-api.pdf  - extensive description of subroutines
doc/html/masterindex.html - HTML equivalent of gepard-api.pdf


1.2 Fortran part
----------------

src/ - Fortran sources
src/adacf/  - sources for DIS anomal. dimensions and Wilson coeffs.
Tests/  - some numbers from Letter, useful for testing. See README.
fits/ - everything needed for fitting and plotting fits


1.3 Mathematica part
--------------------
mma/gepard.m  - Mathematica package. For basic documentation try ?CFF and ?Fcm
mma/gepard.nb - Notebook with checks and timings. Section 1 and then 3 are good
            introduction.  Section 2 of this notebook is good
            for understanding which routines are available and 
            for understanding correspondence with DM's CFFNNLO.nb routines.
mma/gepard.exe - binary FORTRAN library. (Linux and Windows versions)

Note that present version of gepard is considered Fortran-only. These mathematica
packages and notebook are old (but should be correct) version, which can be
used for checking and investigation of Fortran algorithms, but is much slower.
           


====================================================================
2. Installation and usage
====================================================================

You need to "make" stuff only if you want to recreate executables and
documentation (they should be originally provided in gepard.tgz):

make test  - creates simple executable for testing
make fit   - creates executable for fitting (you should specify position of
             CERNLIB's kernlib and packlib libraries as well as PGPLOT
             library in src/Makefile)
make fit_noplot - creates executable for fitting without plotting (you 
             should specify position of CERNLIB's kernlib and packlib 
             libraries in src/Makefile)
make radcorr - executable for Fig 1 of Letter
make scaledep - executable for Fig 2 of Letter
make hmtl  - creates HTML documentation (needs robodoc software)
make pdf   - create LaTeX documentation (needs robodoc software)
make all   - makes everything above and maybe more
make clean - removes everything which is easily recreatable

========================================
2.1 Calculating and fitting with Fortran
========================================

- First try to run executable './test' (Not 'test' which is a built-in
  Unix shell command!)  and see if numbers come out right.
  Try increasing SPEED in GEPARD.INI and see how numbers get worse.

For fitting with Minuit:

- use provided binary 'fit' if you can, or create it by 'make fit'

- Commands for driving Minuit and for specifying initial values of
  fitting parameters are in file MINUIT.CMD (see Minuit manual for their
  meaning!), and final fit result goes to file FIT.OUT, where each stanza
  corresponds to one input data set. Output of Minuit itself is going to terminal,
  so to save it use e.g.  './fit | tee -a savefile'

- parameters (not for fit but for everything else) are specified in GEPARD.INI
  which is self-documented (only the first item on each line there is
  important, other are just documentation for users convenience)

- To select which experimental data will be used for fit, edit file FIT.INI.
  Only sets between strings 'START' and 'STOP' will be used.

- First line of file FIT.INI specifies graphical output:
    'filename.ps/CPS'  will get output into PS file
    '/XSERVE'   will get output in X window (may not work on MS Windows)


===================================
2.2 Calculating CFFs in Mathematica
===================================

Put gepard.m file and gepard.exe directory where Mathematica can find it, then
install via:

<< gepard.m

Mathematica should automatically load file gepard.exe in subdirectory according
to $SystemID

If this doesn't work ("gepard.exe not found"), then in file gepard.m adjust line 
    Install["gepard.exe"]
to
    Install["<exact path to file gepard.exe for your system>"]

For usage, type ?CFF or better read gepard.nb and DM's CFFNNLO.nb which uses
the same calling conventions for high level functions i.e. only  "eval" label
there should be changed from as2pF(II) to either:

GEP  - exact Fortran routines
GEPI, GEPIfix  - two types of interpolations

Quickest introduction is by going over 1st and 3rd section of gepard.nb, then
returning to 2nd for details and lower level functions if needed, and only then
use ?CFF, ?interpol, ?interpolfix, ?Fpw, ?cDVCS, ?RAope, ?Fcm, ?common, ?AS2P
which are a bit cryptic.

====================================================================
2. Installation of PGPLOT library
====================================================================

PGPLOT is Fortran 77 library for plotting diagrams. It can be found at
http://www.astro.caltech.edu/~tjp/pgplot/
Gepard's fitting program 'fit' uses this library to plot final
results for easy inspection.

2.1 Installation under Linux

It's straightforward. Just follow the instructions at
http://www.astro.caltech.edu/~tjp/pgplot/install-unix.html


2.2. Installation under Windows

As with the whole of gepard, only usage inside cygwin environment
is supported. I have tried only Postscript PGPLOT driver /PSDRIV, but
also /XWINDOW should work (I have cygwin without X-Windows).
For PS-only version, I successfully compiled PGPLOT library using
configuration file on top of page
http://www.astro.caltech.edu/~tjp/pgplot/install-gnuwin.html
This I put into file sys_cygwin/g77_gcc.conf (instead of what's there
by default), and then I followed Unix installation instructions on
http://www.astro.caltech.edu/~tjp/pgplot/install-unix.html

My "makemake" command was
<...>/pgplot/makemake <...>/pgplot  cygwin  g77_gcc
